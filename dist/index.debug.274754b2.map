{"version":3,"sources":["../src/core/endpoint.core.js","../src/core/mime-type.core.js","../src/core/sanitize.core.js","../src/core/exception.core.js","../src/common/utility.common.js","../src/core/loader.core.js","../src/api/global.api.js","../src/index.js","index.debug.js"],"names":["Endpoint","method","url","data","args","Object","assign","additionalArgs","mime","css","html","script","json","xml","xhtml","stream","sanitize","core","response","contentType","headers","get","includes","_mime","text","blob","TypeError","InvalidResponseError","message","exc","name","prototype","Error","stringify","object","JSON","parseJSON","parse","clone","replacePlaceholderParams","placeholder","values","limit","regex","RegExp","Array","index","count","length","tag","nextTag","tagExistsInPlaceholder","indexOf","nextTagExistsInPlaceholder","trimToIndex","substring","result","replace","match","split","substringStartIndex","substringLength","undefined","manipulated","toString","replaceObjectParams","model","constructor","regexJSONPlaceholder","regexPlaceholderIndex","stringified","placeholderIndex","replaceStringParams","string","requestTypes","appendHeaders","header","Headers","i","append","keys","loader","options","query","prop","encodeURIComponent","slice","console","log","fetchOptions","credentials","fetch","head","post","construct","body","put","delete","trace","connect","do","toUpperCase","toLowerCase","then","ok","status","_sanitize","_exception","catch","error","sync","queue","api","call","endpoint","type","_loader"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;IACMA;;;AACF,sBAA4D;AAAA,QAA/CC,MAA+C,uEAAtC,KAAsC;AAAA,QAA/BC,GAA+B,uEAAzB,GAAyB;AAAA,QAApBC,IAAoB,uEAAb,EAAa;;AAAA;;AACxD,SAAKF,MAAL,GAAcA,MAAd;AACA,SAAKC,GAAL,GAAWA,GAAX;AACA,SAAKC,IAAL,GAAYA,IAAZ;;AAHwD,sCAANC,IAAM;AAANA,MAAAA,IAAM;AAAA;;AAIxD,SAAKA,IAAL,GAAYC,MAAM,CAACC,MAAP,OAAAD,MAAM,GAAQ,EAAR,SAAeD,IAAf,EAAlB;AACH;;;;8BAE0B;AAAA,yCAAhBG,cAAgB;AAAhBA,QAAAA,cAAgB;AAAA;;AACvB,aAAOF,MAAM,CAACC,MAAP,OAAAD,MAAM,GAAQ;AACjBJ,QAAAA,MAAM,EAAE,KAAKA,MADI;AAEjBC,QAAAA,GAAG,EAAE,KAAKA,GAFO;AAGjBC,QAAAA,IAAI,EAAE,KAAKA;AAHM,OAAR,EAIV,KAAKC,IAJK,SAIIG,cAJJ,EAAb;AAKH;;;;;;AACJ;eAEcP;;;;;;;;;ACjBf,IAAMQ,IAAI,GAAG;AAETC,EAAAA,GAAG,EAAK,UAFC;AAGTC,EAAAA,IAAI,EAAI,WAHC;AAITC,EAAAA,MAAM,EAAE,iBAJC;AAMTC,EAAAA,IAAI,EAAI,kBANC;AAOTC,EAAAA,GAAG,EAAK,iBAPC;AAQTC,EAAAA,KAAK,EAAG,uBARC;AASTC,EAAAA,MAAM,EAAE;AATC,CAAb;eAaeP;;;;;;;;;;ACdf;;;;AAIA,IAAMQ,QAAQ,GAAG;AAEbC,EAAAA,IAAI,EAAE,cAACC,QAAD,EAAc;AAChB,QAAIC,WAAW,GAAGD,QAAQ,CAACE,OAAT,GAAmBF,QAAQ,CAACE,OAAT,CAAiBC,GAAjB,CAAqB,cAArB,CAAnB,GAA0D,EAA5E;AACA,QAAIF,WAAW,CAACG,QAAZ,CAAqBC,kBAAMX,IAA3B,CAAJ,EAAsC,OAAOM,QAAQ,CAACN,IAAT,EAAP;AACtC,QAAIO,WAAW,CAACG,QAAZ,CAAqBC,kBAAMb,IAA3B,CAAJ,EAAsC,OAAOQ,QAAQ,CAACM,IAAT,EAAP;AACtC,QAAIL,WAAW,CAACG,QAAZ,CAAqBC,kBAAMR,MAA3B,CAAJ,EAAwC,OAAOG,QAAQ,CAACO,IAAT,EAAP;AACxC,UAAM,IAAIC,SAAJ,CAAc,4BAAd,CAAN;AACH,GARY;AAUbd,EAAAA,IAAI,EAAE,cAACM,QAAD,EAAc;AAChB,QAAIC,WAAW,GAAGD,QAAQ,CAACE,OAAT,GAAmBF,QAAQ,CAACE,OAAT,CAAiBC,GAAjB,CAAqB,cAArB,CAAnB,GAA0D,EAA5E;AACA,QAAIF,WAAW,CAACG,QAAZ,CAAqBC,kBAAMX,IAA3B,CAAJ,EAAsC,OAAOM,QAAQ,CAACN,IAAT,EAAP;AACtC,UAAM,IAAIc,SAAJ,CAAc,4BAAd,CAAN;AACH,GAdY;AAgBbhB,EAAAA,IAAI,EAAE,cAACQ,QAAD,EAAc;AAChB,QAAIC,WAAW,GAAGD,QAAQ,CAACE,OAAT,GAAmBF,QAAQ,CAACE,OAAT,CAAiBC,GAAjB,CAAqB,cAArB,CAAnB,GAA0D,EAA5E;AACA,QAAIF,WAAW,CAACG,QAAZ,CAAqBC,kBAAMX,IAA3B,CAAJ,EAAsC,OAAOM,QAAQ,CAACM,IAAT,EAAP;AACtC,UAAM,IAAIE,SAAJ,CAAc,4BAAd,CAAN;AACH,GApBY;AAsBbX,EAAAA,MAAM,EAAE,gBAACG,QAAD,EAAc;AAClB,QAAIC,WAAW,GAAGD,QAAQ,CAACE,OAAT,GAAmBF,QAAQ,CAACE,OAAT,CAAiBC,GAAjB,CAAqB,cAArB,CAAnB,GAA0D,EAA5E;AACA,QAAIF,WAAW,CAACG,QAAZ,CAAqBC,kBAAMX,IAA3B,CAAJ,EAAsC,OAAOM,QAAQ,CAACO,IAAT,EAAP;AACtC,UAAM,IAAIC,SAAJ,CAAc,4BAAd,CAAN;AACH;AA1BY,CAAjB;eA8BeV;;;;;;;;;;ACjCf;AACA,IAAMW,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAoC;AAAA,MAA1BC,OAA0B,uEAAhB,EAAgB;AAAA,MAAZC,GAAY,uEAAN,IAAM;AAC7D,OAAKC,IAAL,GAAY,sBAAZ;AACA,OAAKF,OAAL,GAAeA,OAAf;AACA,OAAKC,GAAL,GAAWA,GAAX;AACH,CAJD;;AAKAF,oBAAoB,CAACI,SAArB,GAAiC,IAAIC,KAAJ,EAAjC;eAEe;AAAEL,EAAAA,oBAAoB,EAApBA;AAAF;;;;;;;;;;;;ACTf;AACO,IAAMM,SAAS,GAAG,SAAZA,SAAY,CAACC,MAAD,EAAY;AAAE,SAAOC,IAAI,CAACF,SAAL,CAAeC,MAAf,CAAP;AAAgC,CAAhE,EAEP;;;;;AACO,IAAME,SAAS,GAAG,SAAZA,SAAY,CAACF,MAAD,EAAY;AAAE,SAAOC,IAAI,CAACE,KAAL,CAAWH,MAAX,CAAP;AAA4B,CAA5D,EAEP;;;;;AACO,IAAMI,KAAK,GAAG,SAARA,KAAQ,CAACJ,MAAD,EAAY;AAAE,SAAOE,SAAS,CAACH,SAAS,CAACC,MAAD,CAAV,CAAhB;AAAsC,CAAlE,EAEP;AACA;AACA;AACA;AACA;AACA;;;;;AACO,IAAMK,wBAAwB,GAAG,SAA3BA,wBAA2B,CAACC,WAAD,EAAcC,MAAd,EAAsBC,KAAtB,EAAgC;AACpE,MAAI,CAACF,WAAL,EAAkB,OAAO,EAAP;AAClB,MAAI,OAAOA,WAAP,KAAuB,QAA3B,EAAqC,MAAM,IAAId,SAAJ,CAAc,qDAAd,EAAqEc,WAArE,CAAN;AACrC,MAAIG,KAAK,IAAI,EAAEA,KAAK,YAAYC,MAAnB,CAAb,EAAyC,MAAM,IAAIlB,SAAJ,CAAc,wFAAd,EAAwGiB,KAAxG,CAAN;AACzCF,EAAAA,MAAM,GAAGA,MAAM,YAAYI,KAAlB,GAA0BJ,MAA1B,GAAmC,CAACA,MAAD,CAA5C;AACA,MAAME,KAAK,GAAG,0BAAd,CALoE,CAOpE;;AACA,MAAIG,KAAK,GAAG,CAAC,CAAb;AACA,MAAMC,KAAK,GAAGN,MAAM,CAACO,MAArB;AACA,MAAMC,GAAG,cAAOF,KAAK,GAAG,CAAf,MAAT,CAVoE,CAUtC;;AAC9B,MAAMG,OAAO,cAAOH,KAAP,MAAb,CAXoE,CAWtC;;AAC9B,MAAMI,sBAAsB,GAAGX,WAAW,CAACY,OAAZ,CAAoBH,GAApB,IAA2B,CAAC,CAA3D;AACA,MAAMI,0BAA0B,GAAGb,WAAW,CAACY,OAAZ,CAAoBF,OAApB,IAA+B,CAAC,CAAnE;AACA,MAAMI,WAAW,GAAGd,WAAW,CAACY,OAAZ,CAAoBH,GAApB,IAA2BA,GAAG,CAACD,MAAnD;AACAR,EAAAA,WAAW,GAAIE,KAAD,GAAUF,WAAW,CAACe,SAAZ,CAAsB,CAAtB,EAA0BJ,sBAAsB,IAAIE,0BAA3B,GAAyDC,WAAzD,GAAuEd,WAAW,CAACQ,MAA5G,CAAV,GAAgIR,WAA9I,CAfoE,CAiBpE;;AACA,MAAIgB,MAAM,GAAGhB,WAAW,CAACiB,OAAZ,CAAoBd,KAApB,EAA2B,UAACe,KAAD,EAAW;AAC/C;AACA,QAAMH,SAAS,GAAGG,KAAK,CAACH,SAAN,CAAgB,CAAhB,EAAmBG,KAAK,CAACV,MAAN,GAAe,CAAlC,EAAqCW,KAArC,CAA2C,GAA3C,CAAlB,CAF+C,CAEoB;;AACnE,QAAMC,mBAAmB,GAAIL,SAAS,CAACP,MAAV,KAAqB,CAAtB,GAA2B,CAA3B,GAA+BO,SAAS,CAAC,CAAD,CAAT,CAAaI,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,CAA3D,CAH+C,CAGwC;;AACvF,QAAME,eAAe,GAAIN,SAAS,CAACP,MAAV,KAAqB,CAAtB,GAA2Bc,SAA3B,GAAuCP,SAAS,CAAC,CAAD,CAAT,CAAaI,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,CAA/D,CAJ+C,CAI4C;;AAC3F,QAAMI,WAAW,GAAI,EAAEjB,KAAF,GAAUC,KAAX,GAAqBN,MAAM,CAACK,KAAD,CAAN,KAAkBgB,SAAlB,GAA8BrB,MAAM,CAACK,KAAD,CAAN,CAAckB,QAAd,GAAyBT,SAAzB,CAAmCK,mBAAnC,EAAwDC,eAAxD,CAA9B,GAAyG,IAA9H,GAAsIH,KAA1J;AACA,WAAOK,WAAP;AACH,GAPY,CAAb;AASA,SAAOP,MAAP;AACH,CA5BM,EA8BP;AACA;AACA;AACA;AACA;;;;;AACO,IAAMS,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,KAAD,EAAQzB,MAAR,EAAmB;AAClD,MAAI,CAACyB,KAAL,EAAY,OAAO,EAAP;AACZ,MAAI,QAAOA,KAAP,MAAiB,QAAjB,IAA6BA,KAAK,CAACC,WAAN,KAAsB9D,MAAvD,EAA+D,MAAM,IAAIqB,SAAJ,CAAc,yCAAd,EAAyDwC,KAAzD,CAAN;AAC/DzB,EAAAA,MAAM,GAAGA,MAAM,YAAYI,KAAlB,GAA0BJ,MAA1B,GAAmC,CAACA,MAAD,CAA5C;AAEA,MAAM2B,oBAAoB,GAAG,SAA7B;AACA,MAAMC,qBAAqB,GAAG,SAA9B;AAEA,MAAMC,WAAW,GAAGrC,SAAS,CAACiC,KAAD,CAA7B;AACA,MAAMV,MAAM,GAAGc,WAAW,CAACb,OAAZ,CAAoBW,oBAApB,EAA0C,UAACV,KAAD,EAAW;AAChE,QAAMa,gBAAgB,GAAGb,KAAK,CAACA,KAAN,CAAYW,qBAAZ,CAAzB;AACA,QAAMvB,KAAK,GAAIyB,gBAAgB,CAACvB,MAAjB,GAA0B,CAA3B,GAAgCuB,gBAAgB,CAAC,CAAD,CAAhD,GAAsD,CAAC,CAArE;AACA,WAAQzB,KAAK,GAAG,CAAC,CAAT,IAAcA,KAAK,GAAGL,MAAM,CAACO,MAA9B,GAAwCf,SAAS,CAACQ,MAAM,CAACK,KAAD,CAAP,CAAjD,GAAmEY,KAA1E;AACH,GAJc,CAAf;AAMA,SAAOtB,SAAS,CAACoB,MAAD,CAAhB;AACH,CAhBM,EAkBP;AACA;AACA;AACA;;;;;AACO,IAAMgB,mBAAmB,GAAG,SAAtBA,mBAAsB;AAA0B;AAAsB;AAAA,MAA/CC,MAA+C,uEAAtC,EAAsC;AAAA,MAAlCvC,MAAkC,uEAAzB,EAAyB;AAC/E,MAAMS,KAAK,GAAG,UAAd;AACA,MAAIa,MAAM,GAAGiB,MAAM,CAAChB,OAAP,CAAed,KAAf,EAAsB,UAACe,KAAD,EAAW;AAAE,WAAOxB,MAAM,CAACwB,KAAK,CAACH,SAAN,CAAgB,CAAhB,EAAmBG,KAAK,CAACV,MAAN,GAAe,CAAlC,CAAD,CAAb;AAAsD,GAAzF,CAAb;AACA,SAAOQ,MAAP;AACH,CAJM,EAMP;;;;eACe;AACXvB,EAAAA,SAAS,EAATA,SADW;AAEXG,EAAAA,SAAS,EAATA,SAFW;AAGXE,EAAAA,KAAK,EAALA,KAHW;AAIXC,EAAAA,wBAAwB,EAAxBA,wBAJW;AAKX0B,EAAAA,mBAAmB,EAAnBA,mBALW;AAMXO,EAAAA,mBAAmB,EAAnBA;AANW;;;;;;;;;;AC/Ef;;AACA;;AACA;;AACA;;;;;;AAGA;AACA,IAAME,YAAY,GAAG,CAAC,KAAD,EAAQ,MAAR,EAAgB,MAAhB,EAAwB,KAAxB,EAA+B,QAA/B,EAAyC,OAAzC,EAAkD,SAAlD,EAA6D,SAA7D,EAAwE,OAAxE,CAArB,EAEA;;AACA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,MAAD;AAAsB;AAA0C;AAAA,MAAvDxD,OAAuD,uEAA7C,EAA6C;AAClFwD,EAAAA,MAAM,GAAGA,MAAM,IAAI,IAAIC,OAAJ,EAAnB;AACA,MAAI,CAACzD,OAAO,CAAC4B,MAAb,EAAqB,OAAO4B,MAAP;;AAErB,OAAK,IAAIE,CAAC,GAAG,CAAR,EAAW9B,MAAM,GAAG5B,OAAO,CAAC4B,MAAjC,EAAyC8B,CAAC,GAAG9B,MAA7C,EAAqD8B,CAAC,EAAtD;AAA0DF,IAAAA,MAAM,CAACG,MAAP,CAAc1E,MAAM,CAAC2E,IAAP,CAAY5D,OAAO,CAAC0D,CAAD,CAAnB,EAAwB,CAAxB,CAAd,EAA0CzE,MAAM,CAACoC,MAAP,CAAcrB,OAAO,CAAC0D,CAAD,CAArB,EAA0B,CAA1B,CAA1C;AAA1D;;AACA,SAAOF,MAAP;AACH,CAND,EAQA;;;AACA,IAAMK,MAAM,GAAG;AAEX5D,EAAAA,GAAG,EAAE,aAAC6D;AAAQ;AAAT,IAA+E;AAChF,QAAI,CAACA,OAAO,CAAChF,GAAb,EAAkB,MAAM,IAAIwB,SAAJ,CAAc,yDAAd,CAAN;AAElB,QAAIyD,KAAK,GAAG,EAAZ;AACA,QAAID,OAAO,CAAC/E,IAAR,IAAgB,QAAO+E,OAAO,CAAC/E,IAAf,MAAwB,QAA5C,EAAsD,KAAK,IAAMiF,IAAX,IAAmBF,OAAO,CAAC/E,IAA3B;AAAiCgF,MAAAA,KAAK,IAAK,MAAMC,IAAN,GAAa,GAAb,GAAmBC,kBAAkB,CAACH,OAAO,CAAC/E,IAAR,CAAaiF,IAAb,CAAD,CAA/C;AAAjC;AACtD,QAAID,KAAK,CAACnC,MAAN,GAAe,CAAnB,EAAsBmC,KAAK,GAAG,MAAMA,KAAK,CAACG,KAAN,CAAY,CAAZ,CAAd,CAL0D,CAOhF;;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYN,OAAO,CAAC9E,IAAR,CAAagB,OAAzB;AACA,QAAMA,OAAO,GAAGuD,aAAa,CACzB,IAAIE,OAAJ,CAAY;AAAE,gBAAUtD,kBAAMX,IAAlB;AAAwB,sBAAgBW,kBAAMX;AAA9C,KAAZ,CADyB,EAEzBsE,OAAO,CAAC9E,IAAR,CAAagB,OAFY,CAA7B;AAIAmE,IAAAA,OAAO,CAACC,GAAR,CAAYpE,OAAZ;AACA,QAAMqE,YAAY,GAAGpF,MAAM,CAACC,MAAP,CAAc;AAC/BL,MAAAA,MAAM,EAAE,KADuB;AAE/ByF,MAAAA,WAAW,EAAE,SAFkB;AAG/BtE,MAAAA,OAAO,EAAPA;AAH+B,KAAd,EAIlB8D,OAAO,CAAC9E,IAJU,CAArB;AAKA,WAAOuF,KAAK,CAAET,OAAO,CAAChF,GAAR,GAAciF,KAAhB,EAAwBM,YAAxB,CAAZ;AACH,GAtBU;AAwBXG,EAAAA,IAAI,EAAE,cAACV;AAAQ;AAAT,IAAsB;AACxB,UAAM,IAAIlD,KAAJ,CAAU,uCAAV,CAAN;AACH,GA1BU;AA4BX6D,EAAAA,IAAI,EAAE,cAACX;AAAQ;AAAT,IAA+E;AACjF,QAAI,CAACA,OAAO,CAAChF,GAAb,EAAkB,MAAM,IAAIwB,SAAJ,CAAc,0DAAd,CAAN,CAD+D,CAGjF;;AACA,QAAMN,OAAO,GAAGuD,aAAa,CACzB,IAAIE,OAAJ,CAAY;AAAE,gBAAUtD,kBAAMX,IAAlB;AAAwB,sBAAgBW,kBAAMX;AAA9C,KAAZ,CADyB,EAEzBsE,OAAO,CAAC9E,IAAR,CAAagB,OAFY,CAA7B,CAJiF,CASjF;;AACA,QAAM0E,SAAS,GAAGzF,MAAM,CAACC,MAAP,CAAc;AAC5Bc,MAAAA,OAAO,EAAPA,OAD4B;AAE5BnB,MAAAA,MAAM,EAAE,MAFoB;AAG5B8F,MAAAA,IAAI,EAAE,wBAAWb,OAAO,CAAC/E,IAAR,IAAgB,EAA3B,CAHsB;AAI5BuF,MAAAA,WAAW,EAAE;AAJe,KAAd,EAKfR,OAAO,CAAC9E,IALO,CAAlB;AAOA,WAAOuF,KAAK,CAACT,OAAO,CAAChF,GAAT,EAAc4F,SAAd,CAAZ;AACH,GA9CU;AAgDXE,EAAAA,GAAG,EAAE,aAACd;AAAQ;AAAT,IAA+E;AAChF,QAAI,CAACA,OAAO,CAAChF,GAAb,EAAkB,MAAM,IAAIwB,SAAJ,CAAc,0DAAd,CAAN,CAD8D,CAGhF;;AACA,QAAMN,OAAO,GAAGuD,aAAa,CACzB,IAAIE,OAAJ,CAAY;AAAE,gBAAUtD,kBAAMX,IAAlB;AAAwB,sBAAgBW,kBAAMX;AAA9C,KAAZ,CADyB,EAEzBsE,OAAO,CAAC9E,IAAR,CAAagB,OAFY,CAA7B,CAJgF,CAShF;;AACA,QAAM0E,SAAS,GAAGzF,MAAM,CAACC,MAAP,CAAc;AAC5Bc,MAAAA,OAAO,EAAPA,OAD4B;AAE5BnB,MAAAA,MAAM,EAAE,KAFoB;AAG5B8F,MAAAA,IAAI,EAAE,wBAAWb,OAAO,CAAC/E,IAAR,IAAgB,EAA3B,CAHsB;AAI5BuF,MAAAA,WAAW,EAAE;AAJe,KAAd,EAKfR,OAAO,CAAC9E,IALO,CAAlB;AAOA,WAAOuF,KAAK,CAACT,OAAO,CAAChF,GAAT,EAAc4F,SAAd,CAAZ;AACH,GAlEU;AAoEXG,EAAAA,MAAM,EAAE,iBAACf;AAAQ;AAAT,IAAsB;AAC1B,UAAM,IAAIlD,KAAJ,CAAU,yCAAV,CAAN;AACH,GAtEU;AAwEXkE,EAAAA,KAAK,EAAE,eAAChB;AAAQ;AAAT,IAAsB;AACzB,UAAM,IAAIlD,KAAJ,CAAU,wCAAV,CAAN;AACH,GA1EU;AA4EXkD,EAAAA,OAAO,EAAE,iBAACA;AAAQ;AAAT,IAAsB;AAC3B,UAAM,IAAIlD,KAAJ,CAAU,0CAAV,CAAN;AACH,GA9EU;AAgFXmE,EAAAA,OAAO,EAAE,iBAACjB;AAAQ;AAAT,IAAsB;AAC3B,UAAM,IAAIlD,KAAJ,CAAU,0CAAV,CAAN;AACH,GAlFU;AAoFXoE,EAAAA,EApFW,eAoFPlB;AAAQ;AApFD,IAoFoE;AAC3E,QAAI,CAACA,OAAL,EAAc,MAAM,IAAIxD,SAAJ,CAAc,oDAAd,CAAN;AACd,QAAI,CAACwD,OAAO,CAACjF,MAAT,IAAoByE,YAAY,CAACtB,OAAb,CAAqB8B,OAAO,CAACjF,MAAR,CAAeoG,WAAf,EAArB,MAAuD,CAAC,CAAhF,EAAoF,MAAM,IAAI3E,SAAJ,CAAc,2DAAd,CAAN;AACpF,QAAI,CAACwD,OAAO,CAAChF,GAAb,EAAkB,MAAM,IAAIwB,SAAJ,CAAc,wDAAd,CAAN,CAHyD,CAK3E;;AACA,WAAO,KAAKwD,OAAO,CAACjF,MAAR,CAAeqG,WAAf,EAAL,EAAmCpB,OAAnC,EACFqB,IADE,CACG,UAACrF,QAAD,EAAc;AAChB;AACA,UAAI,CAACA,QAAQ,CAACsF,EAAd,EAAkB;AACd,YAAM5E,OAAO,8BAAuBV,QAAQ,CAACuF,MAAhC,qBAAiDvF,QAAQ,CAAChB,GAA1D,CAAb;AACA,eAAOwG,mBAAUzF,IAAV,CAAeC,QAAf,EAAyBqF,IAAzB,CAA8B,UAAC1E,GAAD,EAAS;AAAE,gBAAM,IAAI8E,oBAAWhF,oBAAf,CAAoCC,OAApC,EAA6CC,GAA7C,CAAN;AAA0D,SAAnG,CAAP;AACH,OALe,CAOhB;;;AACA,aAAOX,QAAQ,CAACoB,KAAT,EAAP;AACH,KAVE,EAWFsE,KAXE,CAWI,UAACC,KAAD,EAAW;AACd,YAAMA,KAAN;AACH,KAbE,CAAP;AAcH,GAxGU;AA0GXC,EAAAA,IA1GW,gBA0GLC,KA1GK,EA0GE;AACT,UAAM,IAAI/E,KAAJ,CAAU,uCAAV,CAAN;AACH;AA5GU,CAAf;eAgHeiD;;;;;;;;;;ACnIf;;AACA;;;;AAIA,IAAM+B,GAAG,GAAG;AAERC,EAAAA,IAAI,EAAE,gBAA0C;AAAA,QAAzCC,QAAyC,uEAA9B,IAA8B;AAAA,QAAxB/G,IAAwB;AAAA,QAAlBgH,IAAkB,uEAAX,MAAW;AAC5C,QAAG,CAACD,QAAJ,EAAc,MAAM,IAAIxF,SAAJ,CAAc,2DAAd,EAA2EwF,QAA3E,CAAN;AACd,WAAOE,iBAAQhB,EAAR,CAAWc,QAAX,EAAqBX,IAArB,CAA0BG,mBAAUS,IAAV,CAA1B,CAAP;AACH;AALO,CAAZ;eASeH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdf;;AACA;;AACA;;AACA;;AACA;;;;;;ACJA;;AAIA,IAAME,QAAQ,GAAG,IAAIlH,aAAJ,CAAa,KAAb,EAAoB,oCAApB,EAA0D,IAA1D,EAAgE;AAAE0F,EAAAA,WAAW,EAAC;AAAd,CAAhE,EAAwF;AAAEtE,EAAAA,OAAO,EAAE,CAAC;AAAE,oBAAgB;AAAlB,GAAD;AAAX,CAAxF,CAAjB;AACAmE,OAAO,CAACC,GAAR,CAAY0B,QAAZ;;AACAF,SAAIC,IAAJ,CAASC,QAAT,EAAmBX,IAAnB,CAAwB,UAAApG,IAAI;AAAA,SAAIoF,OAAO,CAACC,GAAR,CAAYrF,IAAZ,CAAJ;AAAA,CAA5B;;AACA8E,YAAOmB,EAAP,CAAUc,QAAV,EAAoBX,IAApB,CAAyBvF,cAASJ,IAAlC,EAAwC2F,IAAxC,CAA6C,UAAApG,IAAI;AAAA,SAAIoF,OAAO,CAACC,GAAR,CAAYrF,IAAZ,CAAJ;AAAA,CAAjD","file":"index.debug.274754b2.map","sourceRoot":"..\\samples","sourcesContent":["// endpoint options class\r\nclass Endpoint {\r\n    constructor (method = 'GET', url = '#', data = {}, ...args) {\r\n        this.method = method;\r\n        this.url = url;\r\n        this.data = data;\r\n        this.args = Object.assign({}, ...args);\r\n    };\r\n\r\n    options(...additionalArgs) {\r\n        return Object.assign({\r\n            method: this.method, \r\n            url: this.url, \r\n            data: this.data, \r\n        }, this.args, ...additionalArgs);\r\n    }\r\n};\r\n\r\nexport default Endpoint;\r\n","\r\nconst mime = {\r\n\r\n    css:    'text/css',\r\n    html:   'text/html',\r\n    script: 'text/javascript',\r\n\r\n    json:   'application/json',\r\n    xml:    'application/xml',\r\n    xhtml:  'application/xhtml+xml',\r\n    stream: 'application/octet-stream'\r\n\r\n};\r\n\r\nexport default mime;\r\n","import _mime from './mime-type.core';\r\n\r\n\r\n\r\nconst sanitize = {\r\n\r\n    core: (response) => {\r\n        var contentType = response.headers ? response.headers.get('content-type') : '';\r\n        if (contentType.includes(_mime.json)) return response.json();\r\n        if (contentType.includes(_mime.html)) return response.text();\r\n        if (contentType.includes(_mime.stream)) return response.blob();\r\n        throw new TypeError('content-type not available');\r\n    },\r\n\r\n    json: (response) => {\r\n        var contentType = response.headers ? response.headers.get('content-type') : '';\r\n        if (contentType.includes(_mime.json)) return response.json();\r\n        throw new TypeError('content-type not available');\r\n    },\r\n\r\n    html: (response) => {\r\n        var contentType = response.headers ? response.headers.get('content-type') : '';\r\n        if (contentType.includes(_mime.json)) return response.text();\r\n        throw new TypeError('content-type not available');\r\n    },\r\n\r\n    stream: (response) => {\r\n        var contentType = response.headers ? response.headers.get('content-type') : '';\r\n        if (contentType.includes(_mime.json)) return response.blob();\r\n        throw new TypeError('content-type not available');\r\n    }\r\n\r\n};\r\n\r\nexport default sanitize;\r\n","\r\n// invalid response error\r\nconst InvalidResponseError = function (message = '', exc = null) {\r\n    this.name = 'InvalidResponseError';\r\n    this.message = message;\r\n    this.exc = exc;\r\n};\r\nInvalidResponseError.prototype = new Error();\r\n\r\nexport default { InvalidResponseError };","// convert an object to a json string\r\nexport const stringify = (object) => { return JSON.stringify(object); };\r\n\r\n// parse a json string to a js object\r\nexport const parseJSON = (object) => { return JSON.parse(object); };\r\n\r\n// does a deep clone of an object (functions not allowed)\r\nexport const clone = (object) => { return parseJSON(stringify(object)); };\r\n\r\n// replace placeholder parameters inside a string with provided values\r\n// i.e. ('You are {0} years old {1}', [32], null, true ) => returns the resulting string with values replaced using the values array\r\n// @placholder: string => \"You are {0} years old\"\r\n// @values:     object/array => 26 or [26]\r\n// @regex:      regex => defaults to digits {0}, {1}... {n} */\r\n// @limit:      boolean => trim result to length of values\r\nexport const replacePlaceholderParams = (placeholder, values, limit) => {\r\n    if (!placeholder) return '';\r\n    if (typeof placeholder !== 'string') throw new TypeError('invalid placeholder or placeholder is not an string', placeholder);\r\n    if (regex && !(regex instanceof RegExp)) throw new TypeError('invalid regex: the regex is not a properly formatted regular expression i.e. /{\\\\d}/g ', regex);\r\n    values = values instanceof Array ? values : [values];\r\n    const regex = /{\\d}|{\\d,\\d}|{\\d,\\d-\\d}/g;\r\n\r\n    // trim the placeholder to size base on the array of values length\r\n    let index = -1;\r\n    const count = values.length; \r\n    const tag = `{${count - 1}}`; // placeholder tags start at index 0\r\n    const nextTag = `{${count}}`; // detect if next tag exists\r\n    const tagExistsInPlaceholder = placeholder.indexOf(tag) > -1;\r\n    const nextTagExistsInPlaceholder = placeholder.indexOf(nextTag) > -1;\r\n    const trimToIndex = placeholder.indexOf(tag) + tag.length;\r\n    placeholder = (limit) ? placeholder.substring(0, (tagExistsInPlaceholder && nextTagExistsInPlaceholder) ? trimToIndex : placeholder.length) : placeholder;\r\n\r\n    // insert values in placeholder tags\r\n    let result = placeholder.replace(regex, (match) => { \r\n        // introducing index based string manipulation (from-to index)\r\n        const substring = match.substring(1, match.length - 1).split(','); // [..., x-y]\r\n        const substringStartIndex = (substring.length === 1) ? 0 : substring[1].split('-')[0]; // check substring values\r\n        const substringLength = (substring.length === 1) ? undefined : substring[1].split('-')[1]; // declare substring length\r\n        const manipulated = (++index < count) ? (values[index] !== undefined ? values[index].toString().substring(substringStartIndex, substringLength) : null) : match;\r\n        return manipulated;\r\n    });\r\n\r\n    return result;\r\n};\r\n\r\n// replace placeholder parameters inside an object with provided values\r\n// i.e. ( { a: '{0}', b: { c: {1} }}, ['value-a', 'value-c'] ) => returns an object with values replaced using the values array\r\n// @model:      object => defaults to {}\r\n// @values:     object/array => 26 or [26]\r\n// @regex:      regex => defaults to digits {0}, {1}... {n} */\r\nexport const replaceObjectParams = (model, values) => {\r\n    if (!model) return {};\r\n    if (typeof model !== 'object' && model.constructor === Object) throw new TypeError(\"invalid model or model is not an object\", model);\r\n    values = values instanceof Array ? values : [values];\r\n\r\n    const regexJSONPlaceholder = /\"{\\d}\"/g;\r\n    const regexPlaceholderIndex = /{(.*?)}/;\r\n\r\n    const stringified = stringify(model);\r\n    const result = stringified.replace(regexJSONPlaceholder, (match) => { \r\n        const placeholderIndex = match.match(regexPlaceholderIndex);\r\n        const index = (placeholderIndex.length > 0) ? placeholderIndex[1] : -1;\r\n        return (index > -1 && index < values.length) ? stringify(values[index]) : match;\r\n    });\r\n\r\n    return parseJSON(result);\r\n};\r\n\r\n// replaces placeholder values sing the object properties; object must be a of single depth\r\n// i.e. (/api/{userID}/get/email, { userID: 123 } => returns userID placeholder replaced with the object.userID value\r\n// @string:     string => string with placeholder params {n}\r\n// @object:     object => flat object with properties matching the placeholder params\r\nexport const replaceStringParams = (string = '', object = {} /* flat object */) => {\r\n    const regex = /{(.*?)}/g;\r\n    let result = string.replace(regex, (match) => { return object[match.substring(1, match.length - 1)]; });\r\n    return result;\r\n};\r\n\r\n// export defaults\r\nexport default {\r\n    stringify,\r\n    parseJSON,\r\n    clone,\r\n    replacePlaceholderParams,\r\n    replaceObjectParams,\r\n    replaceStringParams\r\n};\r\n","import _mime from './mime-type.core';\r\nimport _sanitize from './sanitize.core';\r\nimport _exception from './exception.core';\r\nimport { stringify as _stringify, clone as _clone } from '../common/utility.common';\r\n\r\n\r\n// available fetch request types\r\nconst requestTypes = ['GET', 'HEAD', 'POST', 'PUT', 'DELETE', 'TRACE', 'OPTIONS', 'CONNECT', 'PATCH']; \r\n\r\n// append headers to header instance\r\nconst appendHeaders = (header, headers = [] /* array containing header objects */) => {\r\n    header = header || new Headers();\r\n    if (!headers.length) return header;\r\n  \r\n    for (let i = 0, length = headers.length; i < length; i++) header.append(Object.keys(headers[i])[0], Object.values(headers[i])[0]);\r\n    return header;\r\n};\r\n\r\n// loader core (get, post, do)\r\nconst loader = {\r\n\r\n    get: (options /* { method = '', url = '', data = {}, headers = [], ...args } */) => {\r\n        if (!options.url) throw new TypeError('loader.get => options.url is invalid, null or undefined');\r\n\r\n        let query = '';\r\n        if (options.data && typeof options.data === 'object') for (const prop in options.data) query += ('&' + prop + '=' + encodeURIComponent(options.data[prop]));\r\n        if (query.length > 0) query = '?' + query.slice(1);\r\n\r\n        // generate options and headers (extend if neccessary)\r\n        console.log(options.args.headers);\r\n        const headers = appendHeaders(\r\n            new Headers({ 'Accept': _mime.json, 'Content-Type': _mime.json }), \r\n            options.args.headers\r\n        );\r\n        console.log(headers);\r\n        const fetchOptions = Object.assign({\r\n            method: 'GET',\r\n            credentials: 'include',\r\n            headers\r\n        }, options.args);\r\n        return fetch((options.url + query), fetchOptions);\r\n    },\r\n\r\n    head: (options /* {} */) => {\r\n        throw new Error('loader.head => not yet implemented...');\r\n    },\r\n\r\n    post: (options /* { method = '', url = '', data = {}, headers = [], ...args } */) => {\r\n        if (!options.url) throw new TypeError('loader.post => options.url is invalid, null or undefined');\r\n\r\n        // generate headers (extend if neccessary)\r\n        const headers = appendHeaders(\r\n            new Headers({ 'Accept': _mime.json, 'Content-Type': _mime.json }), \r\n            options.args.headers\r\n        );\r\n\r\n        // request options\r\n        const construct = Object.assign({\r\n            headers,\r\n            method: 'POST',\r\n            body: _stringify(options.data || {}),\r\n            credentials: 'include'\r\n        }, options.args);\r\n\r\n        return fetch(options.url, construct);\r\n    },\r\n\r\n    put: (options /* { method = '', url = '', data = {}, headers = [], ...args } */) => {\r\n        if (!options.url) throw new TypeError('loader.post => options.url is invalid, null or undefined');\r\n\r\n        // generate headers (extend if neccessary)\r\n        const headers = appendHeaders(\r\n            new Headers({ 'Accept': _mime.json, 'Content-Type': _mime.json }),\r\n            options.args.headers\r\n        );\r\n\r\n        // request options\r\n        const construct = Object.assign({\r\n            headers,\r\n            method: 'PUT',\r\n            body: _stringify(options.data || {}),\r\n            credentials: 'include'\r\n        }, options.args);\r\n\r\n        return fetch(options.url, construct);\r\n    },\r\n\r\n    delete: (options /* {} */) => {\r\n        throw new Error('loader.delete => not yet implemented...');\r\n    },\r\n\r\n    trace: (options /* {} */) => {\r\n        throw new Error('loader.trace => not yet implemented...');\r\n    },\r\n\r\n    options: (options /* {} */) => {\r\n        throw new Error('loader.options => not yet implemented...');\r\n    },\r\n\r\n    connect: (options /* {} */) => {\r\n        throw new Error('loader.connect => not yet implemented...');\r\n    },\r\n\r\n    do (options /* { method = '', url = '', data = {}, headers = [], ...args } */) {\r\n        if (!options) throw new TypeError('loader.do => options is invalid, null or undefined');\r\n        if (!options.method || (requestTypes.indexOf(options.method.toUpperCase()) === -1)) throw new TypeError('loader.do => options.method is invalid, null or undefined');\r\n        if (!options.url) throw new TypeError('loader.do => options.url is invalid, null or undefined');\r\n      \r\n        // execute the xhr request\r\n        return this[options.method.toLowerCase()](options)\r\n            .then((response) => {\r\n                // cast a custom exception to manage invalid status codes from the service calls\r\n                if (!response.ok) {\r\n                    const message = `response.status: ${response.status} | url: ${response.url}`;\r\n                    return _sanitize.core(response).then((exc) => { throw new _exception.InvalidResponseError(message, exc); });\r\n                }\r\n\r\n                // return response copy\r\n                return response.clone();\r\n            })\r\n            .catch((error) => {\r\n                throw error;\r\n            });\r\n    },\r\n\r\n    sync (queue) {\r\n        throw new Error('loader.sync => not yet implemented...');\r\n    }\r\n\r\n};\r\n\r\nexport default loader;\r\n","import _loader from '../core/loader.core';\r\nimport _sanitize from '../core/sanitize.core';\r\n\r\n\r\n\r\nconst api = {\r\n\r\n    call: (endpoint = null, data, type = 'json') => {\r\n        if(!endpoint) throw new TypeError('api.call(endpoint, type) requries a valid endpoint object', endpoint);\r\n        return _loader.do(endpoint).then(_sanitize[type]);\r\n    }\r\n\r\n};\r\n\r\nexport default api;\r\n","export { default as Endpoint } from './core/endpoint.core';\r\nexport { default as loader } from './core/loader.core';\r\nexport { default as sanitize } from './core/sanitize.core';\r\nexport { default as mime } from './core/mime-type.core';\r\nexport { default as api } from './api/global.api';\r\n","import { Endpoint, loader, api, sanitize } from '../src';\r\n\r\n\r\n\r\nconst endpoint = new Endpoint('get', 'https://reqres.in/api/users?page=2', null, { credentials:'omit' }, { headers: [{ 'Content-type': 'no-cache' }] });\r\nconsole.log(endpoint);\r\napi.call(endpoint).then(data => console.log(data));\r\nloader.do(endpoint).then(sanitize.json).then(data => console.log(data));"]}